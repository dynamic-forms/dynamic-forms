{
  "elements": [
    {
      "key": "underlying",
      "type": "group",
      "expressions": {
        "label": "model.currencyPair ? `Underlying for ${ model.currencyPair }` : 'Underlying'"
      },
      "elements": [
        {
          "key": "currencyPair",
          "type": "control",
          "template": {
            "label": "Currency pair",
            "input": {
              "type": "select",
              "placeholder": "Select the currency pair",
              "options": [
                {
                  "value": "EUR\/USD",
                  "label": "EUR\/USD"
                },
                {
                  "value": "EUR\/GBP",
                  "label": "EUR\/GBP"
                },
                {
                  "value": "EUR\/CHF",
                  "label": "EUR\/CHF"
                }
              ]
            },
            "validation": {
              "required": true
            }
          }
        },
        {
          "key": "notionalCurrency",
          "type": "control",
          "template": {
            "label": "Notional Currency",
            "input": {
              "type": "select",
              "placeholder": "Select the notional currency"
            },
            "validation": {
              "required": true
            }
          },
          "expressions": {
            "input.options": "(function(currencyPair) { if (memo.currencyPair === currencyPair) { return memo.previousValue; } memo.currencyPair = currencyPair; if (currencyPair) { var underlying = currencyPair.substring(0,3); var accounting = currencyPair.substring(4,7); return [ { value: underlying, label: underlying }, { value: accounting, label: accounting } ]; } return []; })(parentModel.currencyPair)"
          },
          "evaluations": [ 
            { "key": "select" }           
          ]
        },
        {
          "key": "notional",
          "type": "control",
          "template": {
            "label": "Notional",
            "input": {
              "type": "numberbox",
              "placeholder": "Enter the notional",
              "min": 0,
              "max": 20
            },
            "validation": {
              "required": true,
              "min": true,
              "max": true
            }
          }
        },
        {
          "key": "startDate",
          "type": "control",
          "template": {
            "label": "Start Date",
            "input": {
              "type": "datepicker",
              "placeholder": "Enter the start date"
            },
            "validation": {
              "required": true
            }
          }
        },
        {
          "key": "endDate",
          "type": "control",
          "template": {
            "label": "End Date",
            "input": {
              "type": "datepicker",
              "placeholder": "Enter the end date"
            },
            "validation": {
              "required": true
            }
          }
        }
      ]
    }
  ],
  "actions": [
    {
      "type": "button",
      "template": {
        "type": "submit",
        "label": "Submit"
      },
      "expressions": {
        "disabled": "rootStatus !== 'VALID'"
      }
    },
    {
      "type": "button",
      "template": {
        "type": "button",
        "label": "Validate",
        "action": "validate"
      }
    },
    {
      "type": "button",
      "template": {
        "type": "reset",
        "label": "Reset"
      }
    }
  ]
}